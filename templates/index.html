<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>AarogyaMitra</title>

<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

<style>
  /* ... (keep all your existing CSS styles exactly as they are) ... */
  * { box-sizing: border-box; }
  body {
    margin: 0;
    font-family: "Poppins", sans-serif;
    background-color: #fafdfb;
    color: #333;
    scroll-behavior: smooth;
  }

  :root {
    --primary: #f57c00;  
    --accent: #f9a178;
    --light: #ffffff;
    --text-dark: #2e2e2e;
    --shadow: rgba(0,0,0,0.1);
  }

  /*navbar updated */
  /* Profile Icon */
.profile-icon {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  cursor: pointer;
  border: 2px solid white;
}

/* Dropdown Container */
.profile-dropdown {
  position: relative;
  display: inline-block;
}

/* Dropdown Menu */
.dropdown-menu {
  display: none;
  position: absolute;
  right: 0;
  background-color: #fff;
  min-width: 180px;
  border-radius: 8px;
  padding: 12px;
  box-shadow: 0px 4px 15px rgba(0,0,0,0.2);
  z-index: 999;
}

/* Dropdown visible on hover */
.profile-dropdown:hover .dropdown-menu {
  display: block;
}

/* Dropdown Links */
.dropdown-menu a {
  display: block;
  padding: 10px 8px;
  color: #333;
  text-decoration: none;
  border-radius: 6px;
}

.dropdown-menu a:hover {
  background-color: #f0f0f0;
}

/* Username display */
.user-name {
  font-weight: bold;
  padding: 6px 8px;
  margin-bottom: 8px;
  border-bottom: 1px solid #ddd;
}

.logout-btn {
  color: red !important;
}

  .sidebar {
    position: fixed; top: 0; right: -250px;
    width: 250px; height: 100%;
    background: #ffffff; box-shadow: -2px 0 8px var(--shadow);
    display: flex; flex-direction: column;
    padding-top: 70px; transition: right 0.4s ease;
    z-index: 1000;
  }

  .sidebar.show { right: 0; }
  .sidebar a, .sidebar button {
    padding: 15px 20px; text-decoration: none;
    color: #333; font-weight: 500;
    border: none; background: none;
    text-align: left; cursor: pointer;
  }
  .sidebar .login-btn {
    margin: 10px 20px; border-radius: 25px;
  }

  section {
    min-height: 100vh;
    padding: 120px 50px 50px;
  }
  .slider-container {
    width: 100vw;                 /* full viewport width */
    margin-left: calc(50% - 50vw); /* remove parent padding & stretch full width */
    background: #ffefe0;
    padding: 10px 0;
    overflow: hidden;
    white-space: nowrap;
    position: relative;
}

.slider-text {
    display: inline-block;
    font-size: 18px;
    font-weight: 600;
    color: #ff6b00;
    animation: scroll-left 18s linear infinite;
}

/* Animation */
@keyframes scroll-left {
    0% { transform: translateX(100%); }
    100% { transform: translateX(-100%); }
}


/* Pause on Hover for readability */
.slider-text:hover {
  animation-play-state: paused;
}

 #home {
    background: url("/static/img/medicine.jpg") center/cover no-repeat;
    color: #fff; position: relative;
    display: flex; align-items: center; justify-content: center;
    text-align: left;
  }

  #home::before {
    content: ""; position: absolute; top: 0; left: 0;
    width: 100%; height: 100%;
    background-color: rgba(0,0,0,0.15); z-index: 1;
  }

 /* HERO BACKGROUND */
.hero {
  position: relative;
  height: 90vh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0 20px;
  background: url('images/bg.jpg') center/cover no-repeat;
  animation: fadeIn 1.2s ease-out;
}

/* DARK OVERLAY FOR READABILITY */
.hero .overlay {
  position: absolute;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.15);
  backdrop-filter: blur(1px);
  top: 0;
  left: 0;
}

/* CONTENT */
.hero-content {

  position: relative;
  text-align: center;
  color: white;
  max-width: 800px;
  animation: slideUp 1.2s ease-out;
}

/* BADGE */
.hero-badge {
  display: inline-block;
  background: rgba(255, 165, 0, 0.25);
  color: #ff8800;
  padding: 6px 18px;
  border-radius: 20px;
  font-weight: 600;
  margin-bottom: 15px;
  animation: fadeIn 1.5s ease-out;
}

/* HEADING */
.hero h1 {
  font-size: 52px;
  font-weight: 700;
  margin-bottom: 15px;
 white-space:nowrap;
  
}

.hero h1 span {
  color: #ff8800;
}

/* PARAGRAPH */
.hero p {
  font-size: 18px;
  line-height: 1.7;
  color: #f2f2f2;
  margin-bottom: 35px;
  animation: fadeIn 1.8s ease-out;
}

/* BUTTONS */
.hero-buttons {
  display: flex;
  justify-content: center;
  gap: 20px;
  animation: fadeIn 2s ease-out;
}

/* LIGHT BUTTON */
.btn-light {
  background: rgba(255, 255, 255, 0.85);
  color: #333;
  padding: 12px 28px;
  border-radius: 35px;
  font-size: 18px;
  text-decoration: none;
  transition: 0.3s ease;
  backdrop-filter: blur(3px);
}

.btn-light:hover {
  background: white;
  transform: translateY(-4px);
}

/* ORANGE BUTTON */
.btn-orange {
  background: #ff8800;
  color: white;
  padding: 12px 30px;
  border-radius: 35px;
  font-size: 18px;
  text-decoration: none;
  transition: 0.3s ease;
  box-shadow: 0px 4px 12px rgba(255, 136, 0, 0.4);
}

.btn-orange:hover {
  background: #e56f00;
  transform: translateY(-4px);
}

/* ANIMATIONS */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideUp {
  from { transform: translateY(40px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

  <!-- .about-content h1 {
    font-size: 40px; margin-bottom: 20px; color: var(--primary);
  }
  .about-content p {
    max-width: 800px; font-size: 18px; line-height: 1.7;
  } -->

  /* ABOUT SECTION */
#about {
  margin-top: 10px;
  padding-top: 10px;
}

#about h1 {
  margin-top: 0;
  padding-top: 0;
}

.about-container {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 50px;
}

.about-text {
  flex: 1;
}

.about-text h1 {
  font-size: 42px;
  color: #ff7a00;
  margin-bottom: 20px;
}

.about-text p {
  font-size: 17px;
  line-height: 1.6;
  color: #333;
  opacity: 0;
  animation: fadeInUp 1s forwards;
}

/* Image styling */
.about-image {
  flex: 1;
  display: flex;
  justify-content: center;
}

.about-image img {
  width: 100%;
  max-width: 450px;
  border-radius: 12px;
  box-shadow: 0px 10px 25px rgba(0, 0, 0, 0.15);
  opacity: 0;
  transform: translateY(20px);
  animation: fadeInUp 1.2s forwards;
}

/* Animation */
@keyframes fadeInUp {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Responsive */
@media (max-width: 900px) {
  .about-container {
    flex-direction: column;
    text-align: center;
  }

  .about-image img {
    max-width: 350px;
  }
}

  /* Medicines Section Styles */
  #medicines {
    background-color: #f8f9fa;
    margin-top: 10px;
  padding-top: 10px;

  }
  
  #medicines h1 {
    color: var(--primary);
    font-size: 38px;
    margin-bottom: 30px;
    text-align: center;
  }
  
  .medicines-container {
    max-width: 1200px;
    margin: 0 auto;
  }
  
  .medicines-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 25px;
    margin-top: 30px;
  }
  
  .medicine-card {
    background: white;
    border-radius: 12px;
    padding: 20px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.08);
    transition: all 0.3s ease;
    border-left: 4px solid var(--primary);
  }
  
  .medicine-card:hover {
    transform: translateY(-5px);
    
  }
  
  .medicine-name {
    font-size: 20px;
    font-weight: 600;
    color: var(--text-dark);
    margin-bottom: 10px;
  }
  
  .medicine-details {
    margin-bottom: 15px;
  }
  
  .medicine-detail {
    display: flex;
    justify-content: space-between;
    margin-bottom: 8px;
    padding-bottom: 8px;
    border-bottom: 1px solid #f0f0f0;
  }
  
  .detail-label {
    font-weight: 500;
    color: #666;
  }
  
  .detail-value {
    font-weight: 500;
    color: var(--text-dark);
  }
  
  .expiry-soon {
    color: #e74c3c;
    font-weight: 600;
  }
  
  .available {
    color: #27ae60;
    font-weight: 600;
  }
  
  .limited {
    color: #f39c12;
    font-weight: 600;
  }
  
  .donor-info {
    background: #f8f9fa;
    padding: 10px;
    border-radius: 8px;
    margin-top: 10px;
    font-size: 14px;
  }
  
  .no-medicines {
    text-align: center;
    padding: 40px;
    background: white;
    border-radius: 12px;
    grid-column: 1 / -1;
    box-shadow: 0 4px 15px rgba(0,0,0,0.08);
  }
  
  .no-medicines p {
    font-size: 18px;
    color: #666;
    margin-bottom: 20px;
  }
  
  .search-filter {
    display: flex;
    gap: 15px;
    margin-bottom: 20px;
    flex-wrap: wrap;
  }
  
  .search-box {
    flex: 1;
    min-width: 250px;
    padding: 12px 15px;
    border: 1px solid #ddd;
    border-radius: 8px;
    font-family: "Poppins", sans-serif;
  }
  
  .filter-select {
    padding: 12px 15px;
    border: 1px solid #ddd;
    border-radius: 8px;
    font-family: "Poppins", sans-serif;
    background: white;
  }

  #contact{
    margin-top: 10px;
    padding-top: 10px;
  }

  #contact h1 {
     
    color: var(--primary);
    font-size: 38px;
    margin-bottom: 30px;
   
  }
  
  .contact-info {
    
    max-width: 600px;
    margin-top: 20px;
  }
  
  .contact-item {
    display: flex;
    align-items: center;
    margin-bottom: 20px;
    padding: 15px;
    background: #f8f9fa;
    border-radius: 10px;
    transition: all 0.3s ease;
  }
  
  .contact-item:hover {
    background: #e9ecef;
    transform: translateX(5px);
  }
  
  .contact-icon {
    width: 50px;
    height: 50px;
    background: var(--primary);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 20px;
    margin-right: 20px;
  }
  
  .contact-details h3 {
    margin: 0 0 5px 0;
    color: var(--text-dark);
  }
  
  .contact-details p {
    margin: 0;
    color: #666;
  }
  :root {
    --primary: #f57c00;  
    --accent: #f9a178;
    --light: #ffffff;
    --text-dark: #2e2e2e;
    --shadow: rgba(0,0,0,0.1);
  }

  .navbar {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 12px 50px;
    background: var(--light);
    border-bottom: 1px solid #e3f0ea;
    position: fixed;
    top: 0; left: 0; width: 100%;
    z-index: 1000;
  }

  .logo { display: flex; align-items: center; gap: 10px; }
  .logo img { 
    height: 40px; 
    width: 40px;
    border-radius: 8px;
  }
  .logo-text { font-size: 22px; font-weight: 600; color: var(--primary); }

  .menu {
    display: flex; list-style: none;
    align-items: center; gap: 25px; padding: 0; margin: 0;
  }

  .menu li a {
    text-decoration: none;
    color: var(--text-dark);
    font-weight: 500;
    transition: color 0.3s;
  }
  .menu li a:hover { color: var(--primary); }

  .btn-nav {
    border: none; padding: 10px 20px;
    cursor: pointer; font-weight: 600;
    border-radius: 25px; transition: all 0.3s ease;
  }
  .login-btn { background: var(--primary); color: #fff; }
  .btn-nav:hover { opacity: 0.9; transform: scale(1.05); }

  .hamburger {
    display: none; flex-direction: column;
    cursor: pointer; gap: 5px;
  }

  .hamburger div {
    width: 25px; height: 3px; background-color: #333;
    transition: all 0.3s;
  }

  .hamburger.active div:nth-child(1) {
    transform: rotate(45deg) translate(5px, 5px);
  }
  .hamburger.active div:nth-child(2) { opacity: 0; }
  .hamburger.active div:nth-child(3) {
    transform: rotate(-45deg) translate(5px, -5px);
  }

  .sidebar {
    position: fixed; top: 0; right: -250px;
    width: 250px; height: 100%;
    background: #ffffff; box-shadow: -2px 0 8px var(--shadow);
    display: flex; flex-direction: column;
    padding-top: 70px; transition: right 0.4s ease;
    z-index: 1000;
  }

  .sidebar.show { right: 0; }
  .sidebar a, .sidebar button {
    padding: 15px 20px; text-decoration: none;
    color: #333; font-weight: 500;
    border: none; background: none;
    text-align: left; cursor: pointer;
  }
  .sidebar .login-btn {
    margin: 10px 20px; border-radius: 25px;
  }

  section {
    min-height: 100vh;
    padding: 120px 50px 50px;
  }

  #home {
    background: url("/static/img/medicine.jpg") center/cover no-repeat;
    color: #fff; position: relative;
    display: flex; align-items: center; justify-content: center;
    text-align: left;
  }

  #home::before {
    content: ""; position: absolute; top: 0; left: 0;
    width: 100%; height: 100%;
    background-color: rgba(0,0,0,0.45); z-index: 1;
  }

  .hero-content {
    position: relative; z-index: 2;
    max-width: 700px;
  }

  .hero-content h1 {
    font-size: 58px; margin-bottom: 10px;
    font-weight: 700; color: #fff3e0;
  }
  .hero-content h3 { font-size: 26px; margin-bottom: 20px; color: #fff; }
  .hero-content p { font-size: 18px; line-height: 1.6; margin-bottom: 30px; }

  .btn { display: inline-block; padding: 12px 25px; margin-right: 10px;
    border-radius: 25px; text-decoration: none; font-weight: bold;
    transition: all 0.3s ease;
  }
  .btn-primary { background: var(--primary); color: #fff; }
  .btn-primary:hover { background: #e65100; transform: translateY(-2px); }
  .btn-outline { border: 2px solid #fff; color: #fff; background: transparent; }
  .btn-outline:hover { background: #fff; color: var(--primary); transform: translateY(-2px); }

  #faq {
  margin-top: 10px;
  padding-top: 10px;
  background: #f7f9fc;
  font-family: 'Poppins', sans-serif;
}

#faq h1 {
  font-size: 32px;
  margin-bottom: 30px;
  color: #e65100;
}

.faq-container {
  max-width: 900px;
  margin: auto;
}

.faq-item {
  background: #fff;
  margin-bottom: 15px;
  border-radius: 10px;
  padding: 20px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.08);
  cursor: pointer;
  transition: 0.3s ease;
}

.faq-question h3 {
  margin: 0;
  font-size: 20px;
  color: #444;
}

.faq-answer {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.3s ease;
}

.faq-answer p {
  margin-top: 10px;
  color: #666;
  line-height: 1.6;
}

  /* Footer */
  footer {
    background: #222;
    color: #ddd;
    padding: 25px;
    text-align: center;
    font-size: 15px;
  }

/* ===== DONATION FORM OVERLAY STYLES (copied from donor dashboard) ===== */
.donation-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0,0,0,0.55);
    display: flex;
    justify-content: center;
    align-items: flex-end;
    z-index: 2000;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease;
}

.donation-overlay.active {
    opacity: 1;
    visibility: visible;
}

.donation-form-container {
    background: #fff;
    width: 100%;
    max-width: 900px;
    border-radius: 28px 28px 0 0;
    padding: 35px;
    transform: translateY(100%);
    transition: transform 0.4s ease;
    max-height: 90vh;
    overflow-y: auto;
    box-shadow: 0 -10px 30px rgba(0,0,0,0.1);
}

.donation-overlay.active .donation-form-container {
    transform: translateY(0);
}

.form-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 25px;
    padding-bottom: 15px;
    border-bottom: 1px solid #e9ecef;
}

.form-header h3 {
    font-size: 24px;
    color: #343a40;
}

.close-btn {
    background: none;
    border: none;
    font-size: 32px;
    cursor: pointer;
    color: #6c757d;
    transition: color 0.3s;
}

.close-btn:hover {
    color: #343a40;
}

.donation-form {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 22px;
}

.form-group label {
    display: block;
    margin-bottom: 8px;
    font-weight: 500;
    color: #343a40;
}

.form-control {
    width: 100%;
    padding: 12px 16px;
    border: 1.5px solid #e9ecef;
    border-radius: 12px;
    font-size: 15px;
    transition: all 0.2s;
    font-family: 'Poppins', sans-serif;
}

.form-control:focus {
    outline: none;
    border-color: #ff7a00;
    box-shadow: 0 0 0 3px rgba(255,122,0,0.1);
}

.form-group.full-width {
    grid-column: 1 / -1;
}

.image-upload-area {
    border: 2px dashed #e9ecef;
    border-radius: 20px;
    padding: 28px 20px;
    text-align: center;
    cursor: pointer;
    background-color: #fafafa;
    transition: all 0.2s;
}

.image-upload-area:hover {
    border-color: #ff7a00;
    background-color: rgba(255,122,0,0.04);
}

.upload-icon {
    font-size: 48px;
    color: #6c757d;
    margin-bottom: 12px;
}

.browse-btn {
    display: inline-block;
    padding: 8px 24px;
    background-color: #ff7a00;
    color: #fff;
    border-radius: 40px;
    cursor: pointer;
    font-weight: 500;
    margin-top: 12px;
}

.image-preview {
    display: none;
    margin-top: 18px;
    position: relative;
}

.image-preview.active {
    display: block;
}

.preview-image {
    max-width: 100%;
    max-height: 180px;
    border-radius: 16px;
    box-shadow: 0 6px 16px rgba(0,0,0,0.1);
}

.remove-image {
    position: absolute;
    top: -8px;
    right: -8px;
    width: 32px;
    height: 32px;
    background: #dc3545;
    color: #fff;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    font-size: 18px;
    border: 2px solid #fff;
}

.form-actions {
    grid-column: 1 / -1;
    display: flex;
    justify-content: flex-end;
    gap: 18px;
    margin-top: 20px;
}

.btn-outline {
    background: transparent;
    border: 1.5px solid #6c757d;
    color: #6c757d;
    border-radius: 40px;
    padding: 10px 24px;
    font-weight: 500;
    cursor: pointer;
}

.btn-outline:hover {
    background: #e9ecef;
    border-color: #343a40;
    color: #343a40;
}

#imageInput { display: none; }

@media (max-width: 768px) {
    .donation-form { grid-template-columns: 1fr; }
    .donation-form-container { padding: 25px; }
}

/*   GLOBAL RESPONSIVE FIXES           */
@media (max-width: 1100px) {
  section {
    padding: 100px 30px 30px;
  }
  .hero h1 {
    font-size: 46px;
  }
  .hero p {
    font-size: 16px;
  }
}

/*   TABLET RESPONSIVE (‚â§900px)        */
@media (max-width: 900px) {
  .about-container {
    flex-direction: column;
    text-align: center;
  }
  .about-text h1 {
    font-size: 34px;
  }
  .hero h1 {
    font-size: 40px;
  }
  .medicine-grid {
    grid-template-columns: 1fr 1fr;
  }
}

/*   MOBILE RESPONSIVE (‚â§768px)        */
@media (max-width: 768px) {
  .navbar {
    padding: 12px 20px;
  }
  .menu {
    display: none;
  }
  .hamburger {
    display: flex;
  }
  section {
    padding: 110px 20px 40px;
  }
  .hero h1 {
    font-size: 34px;
    white-space: normal;
  }
  .hero p {
    font-size: 16px;
  }
  .hero-buttons {
    flex-direction: column;
    gap: 10px;
  }
  .btn-light,
  .btn-orange {
    width: 100%;
    text-align: center;
  }
  .medicines-grid {
    grid-template-columns: 1fr;
  }
  .contact-item {
    flex-direction: column;
    text-align: center;
  }
  .contact-icon {
    margin-bottom: 12px;
  }
}

/*   SMALL MOBILE (‚â§480px)             */
@media (max-width: 480px) {
  .hero h1 {
    font-size: 28px;
  }
  .hero p {
    font-size: 15px;
  }
  .about-text h1 {
    font-size: 28px;
  }
  .about-image img {
    max-width: 270px;
  }
}

/* ===== SIDEBAR STYLES ===== */
.sidebar {
  position: fixed; 
  top: 0; 
  right: -280px;
  width: 280px; 
  height: 100%;
  background: #ffffff; 
  box-shadow: -2px 0 15px rgba(0,0,0,0.1);
  display: flex; 
  flex-direction: column;
  padding: 80px 20px 30px;
  transition: right 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  z-index: 1000;
  overflow-y: auto;
}

.sidebar.show { 
  right: 0; 
}

.sidebar a {
  padding: 12px 20px;
  text-decoration: none;
  color: #333;
  font-weight: 500;
  border-radius: 8px;
  transition: all 0.3s ease;
  margin-bottom: 5px;
}

.sidebar a:hover {
  background: rgba(245, 124, 0, 0.1);
  color: var(--primary);
  transform: translateX(5px);
}

/* Sidebar Profile Section */
.sidebar-profile {
  margin-top: 20px;
  padding-top: 20px;
  border-top: 1px solid #e9ecef;
}

.sidebar-user-info {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 15px;
  background: #f8f9fa;
  border-radius: 12px;
  margin-bottom: 15px;
}

.sidebar-profile-icon {
  width: 48px;
  height: 48px;
  border-radius: 50%;
  object-fit: cover;
  border: 2px solid var(--primary);
}

.sidebar-username {
  font-size: 16px;
  font-weight: 600;
  color: #333;
}

.sidebar-menu-links {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.sidebar-menu-links .sidebar-link {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 15px;
  color: #555;
}

.sidebar-menu-links .sidebar-link i {
  font-size: 20px;
  color: #6c757d;
}

.sidebar-menu-links .sidebar-link:hover i {
  color: var(--primary);
}

.sidebar-menu-links .logout-link {
  color: #dc3545;
}

.sidebar-menu-links .logout-link:hover {
  background: rgba(220, 53, 69, 0.1);
  color: #dc3545;
}

.sidebar-menu-links .logout-link:hover i {
  color: #dc3545;
}

/* Sidebar Auth Buttons */
.sidebar-auth {
  display: flex;
  flex-direction: column;
  gap: 12px;
  margin-top: 20px;
  padding-top: 20px;
  border-top: 1px solid #e9ecef;
}

.sidebar-login-btn {
  background: var(--primary);
  color: white !important;
  text-align: center;
  padding: 14px !important;
  border-radius: 30px !important;
  font-weight: 600;
  margin-bottom: 0 !important;
}

.sidebar-login-btn:hover {
  background: #e65100;
  color: white !important;
  transform: translateY(-2px) !important;
  box-shadow: 0 4px 10px rgba(245, 124, 0, 0.3);
}

.sidebar-register-btn {
  background: transparent;
  color: var(--primary) !important;
  text-align: center;
  padding: 14px !important;
  border-radius: 30px !important;
  font-weight: 600;
  border: 2px solid var(--primary);
}

.sidebar-register-btn:hover {
  background: var(--primary);
  color: white !important;
  transform: translateY(-2px) !important;
}

/* Remove list styles */
.sidebar li {
  list-style: none;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .sidebar {
    width: 260px;
    right: -260px;
  }
}

@media (max-width: 480px) {
  .sidebar {
    width: 240px;
    right: -240px;
  }
}
</style>
</head>
<body>

<!-- Navbar -->
<div class="navbar">
  <div class="logo">
    <img src="/static/img/logo.png" alt="AarogyaMitra Logo">
    <span class="logo-text">AarogyaMitra</span>
  </div>

  <ul class="menu">
    <li><a href="#home">Home</a></li>
    <li><a href="#about">About</a></li>
    <li><a href="#medicines">Available Medicines</a></li>
    <li><a href="#contact">Contact</a></li>

    {% if session.get('user') %}
      <!-- Profile Dropdown -->
      <li class="profile-dropdown">
        <img src="https://cdn-icons-png.flaticon.com/512/847/847969.png"
             alt="Profile"
             class="profile-icon">
        <div class="dropdown-menu">
          <p class="user-name">{{ session['user']['username'] }}</p>
          <a href="/{{ session.user.user_type }}/dashboard">My Profile</a>
          <a href="#">Settings</a>
          <a href="/logout" class="logout-btn">Logout</a>
        </div>
      </li>
    {% else %}
      <li>
        <a href="/login">
          <button class="btn-nav login-btn">Login</button>
        </a>
      </li>
    {% endif %}
  </ul>

  <div class="hamburger" onclick="toggleSidebar(this)">
    <div></div><div></div><div></div>
  </div>
</div>

<!-- Sidebar -->
<!-- Sidebar -->
<div class="sidebar" id="sidebarMenu">
  <a href="#home" onclick="closeSidebar()">Home</a>
  <a href="#about" onclick="closeSidebar()">About</a>
  <a href="#medicines" onclick="closeSidebar()">Available Medicines</a>
  <a href="#contact" onclick="closeSidebar()">Contact</a>
  
  {% if session.get('user') %}
    <!-- Profile section in sidebar -->
    <div class="sidebar-profile">
      <div class="sidebar-user-info">
        <img src="https://cdn-icons-png.flaticon.com/512/847/847969.png"
             alt="Profile"
             class="sidebar-profile-icon">
        <span class="sidebar-username">{{ session['user']['username'] }}</span>
      </div>
      <div class="sidebar-menu-links">
        <a href="/{{ session.user.user_type }}/dashboard" class="sidebar-link">
          <i class="material-icons">dashboard</i> My Profile
        </a>
        <a href="#" class="sidebar-link">
          <i class="material-icons">settings</i> Settings
        </a>
        <a href="/logout" class="sidebar-link logout-link">
          <i class="material-icons">logout</i> Logout
        </a>
      </div>
    </div>
  {% else %}
    <div class="sidebar-auth">
      <a href="/login" class="sidebar-login-btn">Login</a>
      <a href="/registration" class="sidebar-register-btn">Register</a>
    </div>
  {% endif %}
</div>

<!-- Hero -->
<section id="home" class="hero">
  <div class="overlay"></div>
  <div class="hero-content">
    <div class="slider-container">
      <div class="slider-text">
        üíä Paracetamol (50 strips) Available | 
        ü©∫ Insulin Injection urgently needed in Pune region | 
        üíä ORS Sachets (120 packets) Available for donation | 
        üö® Expiry Soon: Amoxicillin Capsules (10 strips left - expires in 15 days) |
        ‚ù§ Donate unused medicines to help patients in need |
      </div>
    </div>
  
    <h1>Welcome to <span>AarogyaMitra</span></h1>
    <p>
      AarogyaMitra is a community-driven platform dedicated to ensuring that no medicine goes to waste and help reaches
      those who need it most. We bridge the gap between donors and beneficiaries by enabling safe, reliable medicine
      donations with transparency and trust. Together, we can reduce medical waste and support healthier lives.
    </p>

    <div class="hero-buttons">
      <a href="#medicines" class="btn btn-light">View Available Medicines</a>
      <!-- Donate Now button with popup form -->
      <a href="#" id="donateNowBtn" class="btn btn-orange">Donate Now ‚Üí</a>
    </div>
  </div>
</section>

<!-- About -->
<section id="about">
  <div class="about-container">
    <div class="about-text">
      <h1>About</h1>
      <p>
        AarogyaMitra is a community-driven healthcare initiative dedicated to
        improving access to essential medicines and reducing preventable medical
        waste. Our platform connects donors with individuals and communities in
        need, ensuring that safe and unused medicines are redirected responsibly
        and ethically.
        <br><br>
        We aim to create a transparent, reliable, and compassionate ecosystem
        where healthcare resources are shared, awareness is strengthened, and
        lives are positively impacted. Through collective efforts, AarogyaMitra
        strives to build a healthier, more supportive society‚Äîone donation at a time.
      </p>
    </div>
    <div class="about-image">
      <img src="/static/img/about.jpeg" alt="About AarogyaMitra">
    </div>
  </div>
</section>

<!-- Available Medicines Section -->
<section id="medicines">
  <div class="medicines-container">
    <h1>Available Medicines</h1>
    <p style="text-align: center; max-width: 800px; margin: 0 auto 30px; font-size: 18px; color: #666;">
      Browse through medicines donated by our community members. These medicines are available for those in need.
    </p>
    
    <div class="search-filter">
      <input type="text" id="searchMedicine" class="search-box" placeholder="Search medicines by name...">
      <select id="filterCategory" class="filter-select">
        <option value="">All Categories</option>
        <option value="Tablet">Tablets</option>
        <option value="Capsule">Capsules</option>
        <option value="Syrup">Syrups</option>
        <option value="Injection">Injections</option>
        <option value="Ointment">Ointments</option>
      </select>
      <select id="filterExpiry" class="filter-select">
        <option value="">All Expiry Dates</option>
        <option value="soon">Expiring Soon</option>
        <option value="safe">Safe Expiry</option>
      </select>
    </div>
    
    <div class="medicines-grid" id="medicinesGrid">
      <!-- Medicine cards will be dynamically inserted here -->
    </div>
  </div>
</section>

<!-- Contact -->
<section id="contact">
  <h1>Contact</h1>
  <div class="contact-info">
    <div class="contact-item">
      <div class="contact-icon">
        <i class="material-icons">email</i>
      </div>
      <div class="contact-details">
        <h3>Email</h3>
        <p>support@aarogyamitra.org</p>
      </div>
    </div>
    
    <div class="contact-item">
      <div class="contact-icon">
        <i class="material-icons">phone</i>
      </div>
      <div class="contact-details">
        <h3>Phone</h3>
        <p>+91 98765 43210</p>
      </div>
    </div>
    
    <div class="contact-item">
      <div class="contact-icon">
        <i class="material-icons">location_on</i>
      </div>
      <div class="contact-details">
        <h3>Address</h3>
        <p>123 Health Street, Medical District, Mumbai, India - 400001</p>
      </div>
    </div>
  </div>
</section>

<section id="faq">
  <div class="faq-container">
    <h1 class="faq-title">Frequently Asked Questions</h1>
    <div class="faq-item">
      <div class="faq-question">
        <h3>What is AarogyaMitra?</h3>
      </div>
      <div class="faq-answer">
        <p>AarogyaMitra is a community-driven platform that connects medicine donors with individuals who need them.</p>
      </div>
    </div>
    <div class="faq-item">
      <div class="faq-question">
        <h3>Is it safe to donate medicines?</h3>
      </div>
      <div class="faq-answer">
        <p>Yes. Only sealed, unexpired, and properly stored medicines are accepted for donation.</p>
      </div>
    </div>
    <div class="faq-item">
      <div class="faq-question">
        <h3>Is there any registration fee?</h3>
      </div>
      <div class="faq-answer">
        <p>No. Our service is completely free for donors and receivers.</p>
      </div>
    </div>
    <div class="faq-item">
      <div class="faq-question">
        <h3>How do I request medicines?</h3>
      </div>
      <div class="faq-answer">
        <p>You can request medicines by signing up and submitting a simple form on the Request Medicine page.</p>
      </div>
    </div>
  </div>
</section>

<footer>
  ¬© 2025 AarogyaMitra ‚Äî All Rights Reserved | Designed with ‚ù§ for Community Healthcare
</footer>

<!-- ========== DONATION FORM OVERLAY (same as donor dashboard) ========== -->
<div class="donation-overlay" id="donation-overlay">
  <div class="donation-form-container">
    <div class="form-header">
      <h3>Donate Medicine</h3>
      <button class="close-btn" id="close-form">&times;</button>
    </div>
    <form class="donation-form" id="donation-form" enctype="multipart/form-data">
      <div class="form-group full-width">
        <div class="image-upload-area" id="uploadArea">
          <div class="upload-icon"><i class="fas fa-cloud-upload-alt"></i></div>
          <div class="upload-text">
            <h4>Upload Medicine Image</h4>
            <p>Drag & drop or click to upload</p>
          </div>
          <div class="browse-btn" id="browseBtn">Browse Files</div>
          <input type="file" id="imageInput" name="image" accept="image/*">
        </div>
        <div class="image-preview" id="imagePreview">
          <div class="preview-container" style="position:relative; display:inline-block;">
            <img src="" alt="Preview" class="preview-image" id="previewImage">
            <div class="remove-image" id="removeImage">&times;</div>
          </div>
        </div>
      </div>
      <div class="form-group">
        <label for="medicineName">Medicine Name *</label>
        <input type="text" id="medicineName" name="medicineName" class="form-control" placeholder="Enter medicine name" required>
      </div>
      <div class="form-group">
        <label for="manufacturer">Manufacturer *</label>
        <input type="text" id="manufacturer" name="manufacturer" class="form-control" placeholder="Manufacturer" required>
      </div>
      <div class="form-group">
        <label for="expiryDate">Expiry Date *</label>
        <input type="date" id="expiryDate" name="expiryDate" class="form-control" required>
      </div>
      <div class="form-group">
        <label for="quantity">Quantity *</label>
        <input type="number" id="quantity" name="quantity" class="form-control" placeholder="Number of units" required min="1">
      </div>
      <div class="form-group">
        <label for="category">Category *</label>
        <select id="category" name="category" class="form-control" required>
          <option value="">Select</option>
          <option value="tablets">Tablets</option>
          <option value="syrup">Syrup</option>
          <option value="ointment">Ointment</option>
          <option value="injection">Injection</option>
          <option value="other">Other</option>
        </select>
      </div>
      <div class="form-group">
        <label for="condition">Condition *</label>
        <select id="condition" name="condition" class="form-control" required>
          <option value="">Select condition</option>
          <option value="sealed">Sealed/Unopened</option>
          <option value="good">Good Condition</option>
          <option value="fair">Fair Condition</option>
        </select>
      </div>
      <div class="form-group full-width">
        <label for="description">Additional Details</label>
        <textarea id="description" name="description" class="form-control" placeholder="Any additional information..."></textarea>
      </div>
      <div class="form-actions">
        <button type="button" class="btn btn-outline" id="cancel-btn">Cancel</button>
        <button type="submit" class="btn btn-primary" id="submit-donation-btn">Submit Donation</button>
      </div>
    </form>
  </div>
</div>

<!-- Font Awesome for icons (needed for donation form) -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<script>
// ========== DONATE NOW BUTTON WITH LOGIN CHECK AND POPUP ==========
// Get the donate now button and overlay
const donateNowBtn = document.getElementById('donateNowBtn');
const donationOverlay = document.getElementById('donation-overlay');
const closeFormBtn = document.getElementById('close-form');
const cancelBtn = document.getElementById('cancel-btn');
const donationForm = document.getElementById('donation-form');

// Check if user is logged in (from Jinja2 template)
const isUserLoggedIn = {% if session.get('user') %}true{% else %}false{% endif %};
const userType = "{{ session.get('user', {}).get('user_type', '') }}";

// Function to open donation form
function openDonationForm() {
    donationOverlay.classList.add('active');
    document.body.style.overflow = 'hidden';
    
    // Set min date for expiry
    const expiryInput = document.getElementById('expiryDate');
    if (expiryInput) {
        const today = new Date().toISOString().split('T')[0];
        expiryInput.min = today;
    }
}

// Function to close donation form
function closeDonationForm() {
    donationOverlay.classList.remove('active');
    document.body.style.overflow = 'auto';
    if (donationForm) donationForm.reset();
    if (imagePreview) imagePreview.classList.remove('active');
    if (imageInput) imageInput.value = '';
}

// Add click event listener to donate now button
if (donateNowBtn) {
    donateNowBtn.addEventListener('click', function(e) {
        e.preventDefault();
        
        if (isUserLoggedIn) {
            // User is logged in - check if user is donor
            if (userType === 'donor') {
                // Donor - open donation form popup
                openDonationForm();
            } else {
                // Receiver or admin - redirect to their dashboard
                window.location.href = "/" + userType + "/dashboard";
            }
        } else {
            // User is not logged in - redirect to login page
            window.location.href = "/login";
        }
    });
}

// Close form buttons
if (closeFormBtn) closeFormBtn.addEventListener('click', closeDonationForm);
if (cancelBtn) cancelBtn.addEventListener('click', closeDonationForm);

// Close when clicking outside
if (donationOverlay) {
    donationOverlay.addEventListener('click', function(e) {
        if (e.target === donationOverlay) {
            closeDonationForm();
        }
    });
}

// Escape key handler
document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape' && donationOverlay?.classList.contains('active')) {
        closeDonationForm();
    }
});

// ========== IMAGE UPLOAD HANDLING ==========
const uploadArea = document.getElementById('uploadArea');
const browseBtn = document.getElementById('browseBtn');
const imageInput = document.getElementById('imageInput');
const imagePreview = document.getElementById('imagePreview');
const previewImage = document.getElementById('previewImage');
const removeImage = document.getElementById('removeImage');

if (browseBtn) {
    browseBtn.addEventListener('click', () => imageInput.click());
}

if (imageInput) {
    imageInput.addEventListener('change', function() {
        if (this.files && this.files[0]) {
            const file = this.files[0];
            if (file.size > 5 * 1024 * 1024) {
                alert('File too large (max 5MB)');
                return;
            }
            if (!file.type.match('image.*')) {
                alert('Please select an image');
                return;
            }
            const reader = new FileReader();
            reader.onload = (e) => {
                previewImage.src = e.target.result;
                imagePreview.classList.add('active');
            };
            reader.readAsDataURL(file);
        }
    });
}

if (removeImage) {
    removeImage.addEventListener('click', function() {
        imageInput.value = '';
        imagePreview.classList.remove('active');
    });
}

if (uploadArea) {
    uploadArea.addEventListener('dragover', (e) => {
        e.preventDefault();
        uploadArea.classList.add('dragover');
    });

    uploadArea.addEventListener('dragleave', () => {
        uploadArea.classList.remove('dragover');
    });

    uploadArea.addEventListener('drop', (e) => {
        e.preventDefault();
        uploadArea.classList.remove('dragover');
        
        if (e.dataTransfer.files && e.dataTransfer.files[0]) {
            imageInput.files = e.dataTransfer.files;
            const file = e.dataTransfer.files[0];
            if (file.size > 5 * 1024 * 1024) {
                alert('File too large (max 5MB)');
                return;
            }
            const reader = new FileReader();
            reader.onload = (ev) => {
                previewImage.src = ev.target.result;
                imagePreview.classList.add('active');
            };
            reader.readAsDataURL(file);
        }
    });
}

// ========== FORM SUBMISSION ==========
if (donationForm) {
    donationForm.addEventListener('submit', async function(e) {
        e.preventDefault();

        const submitBtn = document.getElementById('submit-donation-btn');
        const originalText = submitBtn.innerText;
        submitBtn.innerText = 'Submitting...';
        submitBtn.disabled = true;

        try {
            const formData = new FormData(this);
            const response = await fetch('/submit_donation', {
                method: 'POST',
                body: formData
            });
            
            const result = await response.json();

            if (result.success) {
                alert('Donation submitted successfully!');
                closeDonationForm();
            } else {
                alert(result.message || 'Failed to submit donation');
            }
        } catch (error) {
            console.error('Error:', error);
            alert('Error submitting donation. Please try again.');
        } finally {
            submitBtn.innerText = originalText;
            submitBtn.disabled = false;
        }
    });
}

// ========== SIDEBAR FUNCTIONS ==========
function toggleSidebar(hamburger) {
  const sidebar = document.getElementById('sidebarMenu');
  sidebar.classList.toggle('show');
  hamburger.classList.toggle('active');
}

function closeSidebar() {
  const sidebar = document.getElementById('sidebarMenu');
  const hamburger = document.querySelector('.hamburger');
  sidebar.classList.remove('show');
  hamburger.classList.remove('active');
}

// ========== MEDICINE DATA ==========
const medicines = [];

function isExpiringSoon(expiryDate) {
  const today = new Date();
  const expiry = new Date(expiryDate);
  const threeMonthsFromNow = new Date();
  threeMonthsFromNow.setMonth(today.getMonth() + 3);
  return expiry <= threeMonthsFromNow;
}

function formatDate(dateString) {
  const options = { year: 'numeric', month: 'short', day: 'numeric' };
  return new Date(dateString).toLocaleDateString(undefined, options);
}

function getQuantityStatus(quantity) {
  if (quantity > 20) return { text: 'Available', class: 'available' };
  if (quantity > 5) return { text: 'Limited Stock', class: 'limited' };
  return { text: 'Low Stock', class: 'expiry-soon' };
}

function renderMedicines(medicinesToRender) {
  const medicinesGrid = document.getElementById('medicinesGrid');
  
  if (medicinesToRender.length === 0) {
    medicinesGrid.innerHTML = `
      <div class="no-medicines">
        <p style="font-size: 20px; color: #666; margin-bottom: 15px;">No medicines available at the moment</p>
        <p style="color: #888; margin-bottom: 25px;">Be the first to donate medicines and help those in need.</p>
        <a href="#" id="becomeDonorBtn" class="btn btn-primary">Become a Donor</a>
      </div>
    `;
    
    const becomeDonorBtn = document.getElementById('becomeDonorBtn');
    if (becomeDonorBtn) {
      becomeDonorBtn.addEventListener('click', function(e) {
        e.preventDefault();
        if (isUserLoggedIn) {
          if (userType === 'donor') {
            openDonationForm();
          } else {
            window.location.href = "/" + userType + "/dashboard";
          }
        } else {
          window.location.href = "/login";
        }
      });
    }
    return;
  }
  
  medicinesGrid.innerHTML = medicinesToRender.map(medicine => {
    const quantityStatus = getQuantityStatus(medicine.quantity);
    const expiringSoon = isExpiringSoon(medicine.expiryDate);
    
    return `
      <div class="medicine-card">
        <div class="medicine-name">${medicine.name}</div>
        <div class="medicine-details">
          <div class="medicine-detail">
            <span class="detail-label">Category:</span>
            <span class="detail-value">${medicine.category}</span>
          </div>
          <div class="medicine-detail">
            <span class="detail-label">Quantity:</span>
            <span class="detail-value ${quantityStatus.class}">${medicine.quantity} units</span>
          </div>
          <div class="medicine-detail">
            <span class="detail-label">Expiry:</span>
            <span class="detail-value ${expiringSoon ? 'expiry-soon' : ''}">
              ${formatDate(medicine.expiryDate)} ${expiringSoon ? '(Expiring Soon)' : ''}
            </span>
          </div>
        </div>
        <div class="donor-info">
          <strong>Donated by:</strong> ${medicine.donor}<br>
          <strong>Location:</strong> ${medicine.location}
        </div>
      </div>
    `;
  }).join('');
}

function filterMedicines() {
  const searchTerm = document.getElementById('searchMedicine').value.toLowerCase();
  const categoryFilter = document.getElementById('filterCategory').value;
  const expiryFilter = document.getElementById('filterExpiry').value;
  
  const filteredMedicines = medicines.filter(medicine => {
    const matchesSearch = medicine.name.toLowerCase().includes(searchTerm);
    const matchesCategory = !categoryFilter || medicine.category === categoryFilter;
    let matchesExpiry = true;
    if (expiryFilter === 'soon') {
      matchesExpiry = isExpiringSoon(medicine.expiryDate);
    } else if (expiryFilter === 'safe') {
      matchesExpiry = !isExpiringSoon(medicine.expiryDate);
    }
    return matchesSearch && matchesCategory && matchesExpiry;
  });
  
  renderMedicines(filteredMedicines);
}

// Initialize the page
document.addEventListener('DOMContentLoaded', function() {
  renderMedicines(medicines);
  
  document.getElementById('searchMedicine').addEventListener('input', filterMedicines);
  document.getElementById('filterCategory').addEventListener('change', filterMedicines);
  document.getElementById('filterExpiry').addEventListener('change', filterMedicines);
  
  // Smooth scrolling for navigation links
  document.querySelectorAll('.menu a, .sidebar a').forEach(anchor => {
    anchor.addEventListener('click', function(e) {
      if (this.getAttribute('href').startsWith('#')) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          window.scrollTo({
            top: target.offsetTop - 60,
            behavior: 'smooth'
          });
        }
        closeSidebar();
      }
    });
  });

  // Close sidebar when clicking outside
  document.addEventListener('click', function(event) {
    const sidebar = document.getElementById('sidebarMenu');
    const hamburger = document.querySelector('.hamburger');
    
    if (!sidebar.contains(event.target) && !hamburger.contains(event.target) && sidebar.classList.contains('show')) {
      closeSidebar();
    }
  });

  // Observer for animations
  const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -50px 0px'
  };

  const observer = new IntersectionObserver(function(entries) {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.style.opacity = '1';
        entry.target.style.transform = 'translateY(0)';
      }
    });
  }, observerOptions);

  document.querySelectorAll('section').forEach(section => {
    section.style.opacity = '0';
    section.style.transform = 'translateY(20px)';
    section.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
    observer.observe(section);
  });
});

// FAQ accordion
const faqItems = document.querySelectorAll(".faq-item");
faqItems.forEach(item => {
  item.addEventListener("click", () => {
    item.classList.toggle("active");
    const answer = item.querySelector(".faq-answer");
    if (item.classList.contains("active")) {
      answer.style.maxHeight = answer.scrollHeight + "px";
    } else {
      answer.style.maxHeight = null;
    }
  });
});

// Update ticker
const tickerMessages = [
  "üíä Paracetamol (50 strips) Available",
  "ü©∫ Need Insulin Injection in Nagpur - Urgent",
  "üíä ORS Sachets (120 packets) Available",
  "üö® Expiry Warning: Amoxicillin (15 days)",
  "‚ù§ Donate unused medicines to help someone"
];
document.querySelector('.slider-text').innerHTML = tickerMessages.join(" | ");

async function loadMedicines() {
    const response = await fetch("/medicines");
    const data = await response.json();
    const container = document.querySelector(".medicines-grid");
    container.innerHTML = "";
    if (data.length === 0) {
      container.innerHTML = `
        <div class="no-medicines">
          <p>No medicines available right now.</p>
        </div>`;
      return;
    }
    data.forEach(medicine => {
      container.innerHTML += `
        <div class="medicine-card">
          <div class="medicine-name">${medicine.name}</div>
          <div class="medicine-details">
            <div class="medicine-detail">
              <span class="detail-label">Expiry:</span>
              <span class="detail-value">${medicine.expiry}</span>
            </div>
            <div class="medicine-detail">
              <span class="detail-label">Quantity:</span>
              <span class="detail-value">${medicine.quantity}</span>
            </div>
            <div class="medicine-detail">
              <span class="detail-label">Status:</span>
              <span class="detail-value">${medicine.status}</span>
            </div>
          </div>
          <div class="donor-info">
            Donor: ${medicine.donor}
          </div>
        </div>
      `;
    });
}

document.addEventListener("DOMContentLoaded", loadMedicines);
</script>

</body>
</html>